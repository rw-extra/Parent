name: ActionsTestParent

on: 
  pull_request:
    paths-ignore:
#       - "**/*.md"
      - "website/**"

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
#       - name: "Start Check"
#         run: |
#           curl \
#           -X POST \
#           -H "Accept: application/vnd.github+json" \
#           -H "Bearer: ${{ secrets.GITHUB_TOKEN }}" \
#           https://api.github.com/repos/rw-extra/Parent/check-runs \
#           -d '{"name":"integration_test","head_sha","${{ github.head_ref }}","status":"in_progress"}'

      - name: "Start Check"
        uses: LouisBrunner/checks-action@v1.3.1
        with:
          name: "integration_test"
          status: "in_progress"
          token: ${{ github.token }}
          
#       - name: "Run External Workflow"
#         run: |
#           curl \
#           -X POST \
#           -H "Accept: application/vnd.github+json" \
#           -u ${{ secrets.ACCESS_TOKEN }} \
#           https://api.github.com/repos/OWNER/REPO/dispatches \
#           -d '{"event_type":"start_test","client_payload":{"sha":"${{ github.head_ref }}"}}'
